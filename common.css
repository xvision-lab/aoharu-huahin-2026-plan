:root{
  --bg:#0b0f14;
  --card:#121824;
  --text:#e9eef7;
  --muted:#95a0b5;
  --line:rgba(255,255,255,.08);
  --shadow:0 12px 30px rgba(0,0,0,.35);
  --radius:18px;
  --accent:#7fb3ff;
  --good:#2bd576;
  --warn:#f6c445;
  --bad:#ff5b6a;
  --max:1120px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Sans", "Noto Sans JP", "Yu Gothic", Arial, sans-serif;
  background:
    radial-gradient(1200px 700px at 10% -10%, rgba(127,179,255,.16), transparent 60%),
    radial-gradient(900px 600px at 95% 0%, rgba(43,213,118,.10), transparent 55%),
    var(--bg);
  color:var(--text);
  line-height:1.6;
}

a{color:inherit; text-decoration:none}

.wrap{max-width:var(--max); margin:0 auto; padding:22px 16px 60px;}

header{
  border-bottom:1px solid var(--line);
  padding:10px 0 18px;
  margin-bottom:16px;
}

.badges{display:flex; gap:8px; flex-wrap:wrap; align-items:center; color:var(--muted); font-size:13px;}
.badge{padding:6px 10px; border:1px solid var(--line); border-radius:999px; background:rgba(255,255,255,.06);}

h1{margin:10px 0 6px; font-size:26px; letter-spacing:.2px;}
.sub{margin:0; color:var(--muted); font-size:14px;}
.muted{color:var(--muted);}

/* ===== Global Nav ===== */
.gnav{
  margin-top:12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}
.gnav .label{
  color:var(--muted);
  font-size:12px;
  margin-right:2px;
}

/* ===== Button (Unified) ===== */
.btn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:rgba(255,200,0,.40);
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size:13px;
  font-weight:650;
  color:#fff;
  cursor:pointer;
}
.btn:hover{background:rgba(255,200,0,.55);}
.btn .ic{opacity:.9;} /* 将来アイコン復活しても崩れない保険（不要なら削除OK） */

/* ===== Common Card Skeleton ===== */
.page-itinerary .card{
  background:rgba(255,255,255,.04);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}

.page-itinerary .card .hd{
  padding:14px 14px 10px;
  border-bottom:1px solid var(--line);
  display:flex;
  gap:10px;
  justify-content:space-between;
  align-items:flex-start;
}
.page-itinerary .card .hd h2{margin:0; font-size:16px;}
.page-itinerary .card .hd .muted{color:var(--muted); font-size:12px; margin-top:2px;}
.page-itinerary .card .bd{padding:14px;}

/* ===== Hero (Itinerary) ===== */
.page-itinerary .hero{
  margin-top:14px;
  border:1px solid var(--line);
  border-radius:22px;
  overflow:hidden;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow:var(--shadow);
}
.page-itinerary .hero .inner{padding:16px 16px 14px;}
.page-itinerary .hero .title{font-weight:700; font-size:16px; margin:0 0 6px;}
.page-itinerary .hero .desc{margin:0; color:var(--muted); font-size:13px;}
.page-itinerary .hero img{display:block; width:100%; height:220px; object-fit:cover; filter:saturate(1.05) contrast(1.05);}

/* ===== Layout Grid (Itinerary) ===== */
.page-itinerary .grid{display:grid; grid-template-columns: 1.2fr .8fr; gap:14px; margin-top:14px;}
@media (max-width: 900px){
  .page-itinerary .grid{grid-template-columns:1fr;}
  .page-itinerary .hero img{height:190px;}
}

/* KPI */
.page-itinerary .kpi{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}
.page-itinerary .kpi .box{padding:10px 12px; border:1px solid var(--line); border-radius:14px; background:rgba(255,255,255,.04);}
.page-itinerary .kpi .box .lab{font-size:11px; color:var(--muted);}
.page-itinerary .kpi .box .val{font-size:14px; font-weight:700; margin-top:3px;}
.page-itinerary .kpi .box .val small{font-weight:600; color:var(--muted);}
@media (max-width: 860px){
  .page-itinerary .kpi{display:flex; flex-direction:column;}
}

.page-itinerary .btnrow{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;}

/* ===== Itinerary (Details / Table) ===== */
.page-itinerary .days{margin-top:14px;}

.page-itinerary details{
  border-top:1px solid var(--line);
  padding:0;
  background:transparent;
}
.page-itinerary details:first-child{border-top:none;}

.page-itinerary summary{
  list-style:none;
  cursor:pointer;
  padding:14px 12px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
}
.page-itinerary summary::-webkit-details-marker{display:none;}

.page-itinerary .sum-left{display:flex; flex-direction:column; gap:4px; min-width:0;}
.page-itinerary .sum-title{font-weight:800; letter-spacing:.2px;}
.page-itinerary .sum-meta{color:var(--muted); font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}

.page-itinerary .pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  font-size:12px;
  width:max-content;
}
.page-itinerary .dot{width:8px; height:8px; border-radius:99px;}
.page-itinerary .p-good .dot{background:var(--good);}
.page-itinerary .p-warn .dot{background:var(--warn);}
.page-itinerary .p-bad .dot{background:var(--bad);}
.page-itinerary .chev{color:var(--muted); font-size:12px;}
.page-itinerary details[open] .chev{transform:rotate(180deg);}

.page-itinerary .it-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  margin:0 0 14px;
}
.page-itinerary .it-table thead th{
  text-align:left;
  font-size:12px;
  color:var(--muted);
  padding:10px 12px;
  border-top:1px solid var(--line);
  border-bottom:1px solid var(--line);
  background:rgba(255,255,255,.03);
}
.page-itinerary .it-table tbody td{
  padding:12px;
  border-bottom:1px solid var(--line);
  vertical-align:top;
  font-size:13px;
}
.page-itinerary .it-table tbody tr:last-child td{border-bottom:none;}
.page-itinerary .col-time{width:130px; color:var(--muted);}
.page-itinerary .col-main{width:44%;}
.page-itinerary .col-notes{color:var(--muted);}

.page-itinerary .callout{
  margin:12px 14px 14px;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(43,213,118,.08);
  color:var(--text);
  font-size:13px;
}
.page-itinerary .callout .muted{color:rgba(233,238,247,.8)}

.page-itinerary .memo{
  margin:12px 14px 14px;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  border-left:4px solid rgba(246,196,69,.80);
  background:rgba(246,196,69,.06);
  color:var(--text);
  font-size:13px;
}

/* Mobile: itinerary table reflow */
@media (max-width: 860px){
  .page-itinerary .it-table thead{display:none;}
  .page-itinerary .it-table tbody tr{
    display:grid;
    grid-template-columns:1fr 3fr; /* 25:75 相当。100%埋め */
    grid-template-areas:
      "time main"
      "notes notes";
    gap:6px 10px;
    padding:10px 12px;
    border-bottom:1px solid var(--line);
    width:100%;
    box-sizing:border-box;
  }
  .page-itinerary .it-table tbody td{
    padding:2px 0;
    border:none;
  }
  .page-itinerary .it-table .col-time{
    grid-area:time;
    font-size:12px;
    color:var(--muted);
    white-space:nowrap;
    width:auto;
    min-width:0;
  }
  .page-itinerary .it-table .col-main{
    grid-area:main;
    width:auto;
    min-width:0;
  }
  .page-itinerary .it-table .col-notes{
    grid-area:notes;
    font-size:13px;
    line-height:1.6;
    color:var(--muted);
    padding-top:6px;
    width:auto;
  }
}

/* Day image trio */
.page-itinerary .day-images{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:14px;
  margin-top:16px;
}
.page-itinerary .day-images img{
  width:100%;
  height:160px;
  object-fit:cover;
  border-radius:14px;
}
.page-itinerary .day-images figure{margin:0;}
.page-itinerary .day-images figcaption{
  margin-top:6px;
  font-size:12px;
  color:var(--muted);
  text-align:center;
}
@media (max-width: 860px){
  .page-itinerary .day-images{grid-template-columns:1fr;}
  .page-itinerary .day-images img{height:200px;}
}

.page-itinerary .foot{
  margin-top:18px;
  padding-top:14px;
  border-top:1px solid var(--line);
  color:var(--muted);
  font-size:12px;
}

/* ===== Spots Page (Scoped) ===== */
.page-spots .toolbar{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:12px;}

.page-spots .grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
  margin-top:14px;
}
@media (max-width: 900px){
  .page-spots .grid{grid-template-columns:1fr;}
}

.page-spots .card{
  border:1px solid var(--line);
  border-radius:22px;
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  box-shadow:var(--shadow);
  overflow:hidden;
}

.page-spots .card img{
  width:100%;
  height:220px;
  object-fit:cover;
  display:block;
  filter:saturate(1.06) contrast(1.02);
}

.page-spots .inner{padding:14px 14px 16px;}

.page-spots .title{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
  margin-bottom:6px;
}
.page-spots .title h2{
  margin:0;
  font-size:16px;
  letter-spacing:.2px;
}

.page-spots .tag{
  font-size:12px;
  color:#cfe2ff;
  border:1px solid rgba(127,179,255,.25);
  background:rgba(127,179,255,.10);
  padding:6px 10px;
  border-radius:999px;
  white-space:nowrap;
}

.page-spots .desc{color:var(--muted); font-size:13px; margin:6px 0 10px;}

.page-spots .meta{
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
}

.page-spots .box{
  border:1px solid var(--line);
  background:rgba(0,0,0,.18);
  border-radius:14px;
  padding:10px 12px;
}
.page-spots .box .h{
  font-weight:800;
  font-size:12px;
  letter-spacing:.2px;
  margin-bottom:6px;
  color:#dfe7f7;
}
.page-spots .box ul{
  margin:0;
  padding-left:18px;
  color:var(--muted);
  font-size:13px;
}
.page-spots .box li{margin:4px 0;}

.page-spots .hint{
  margin-top:14px;
  padding:12px;
  border:1px dashed var(--line);
  border-radius:14px;
  background:rgba(0,0,0,.15);
  color:var(--muted);
  font-size:13px;
}

.page-spots footer{
  margin-top:18px;
  border-top:1px solid var(--line);
  padding-top:14px;
  color:var(--muted);
  font-size:12px;
}

/* ===== Print ===== */
@media print{
  body{background:#fff; color:#000;}
  .page-itinerary header{border-color:#ddd;}
  .page-itinerary .card{background:#fff; border-color:#ddd; box-shadow:none;}
  .page-itinerary details{border-color:#ddd;}
  .page-itinerary .it-table thead th{background:#f6f6f6; color:#333; border-color:#ddd;}
  .page-itinerary .it-table tbody td{border-color:#ddd; color:#333;}
  .page-itinerary .badge, .page-itinerary .pill{border-color:#ddd;}
  .muted{color:#444;}
  .btn{display:none;}
  a{color:#000; text-decoration:none;}

  .page-spots .card{box-shadow:none;}
  .page-spots .desc,.page-spots .hint,.page-spots footer{color:#444;}
}
